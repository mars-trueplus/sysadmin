version: "3"
services:
  db:
    image: postgres:9.4
    environment:
      - POSTGRES_USER=odoo
      - POSTGRES_PASSWORD=odoo
  web:
    # build . mean build and get created image for this service use Dockerfile in it
    image: odoo:11.0
    depends_on:
      - db
    ports: 
      - "8090:8069"
    volumes:
      - ./config:/etc/odoo
      - ./addons:/mnt/extra-addons
    command: ["-u", "go_inside"]
  web2:
    image: odoo:11.0
    depends_on:
      - db
    ports:
      - "8095:8069"
    volumes:
      # if you mount two directories to same path on container
      # it will get last mount 
      # below, it take ./log/odoo_v2 to /etc/odoo , ignore ./config/odoo_11_v2
      - ./config/odoo_11_v2:/etc/odoo
      - ./addons/odoo_11_v2:/mnt/extra-addons
      # - ./log/odoo_v2:/etc/odoo/
  